
  <%= link_to "Select Icon", new_reward_path , class: "btn btn-outline-dark categories"%>

<h1>Vos Succès</h1>
<div class="achievements-list">
  <div class="accordion ach-accord" id="achievementsAccordion">
    <% @actions.group_by { |action| action.category }.each do |category, category_actions| %>
      <div class="accordion-item">
        <h2 class="accordion-header" id="heading<%= category.id %>">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= category.id %>" aria-expanded="true" aria-controls="collapse<%= category.id %>">
            <%= category.title %>
          </button>
        </h2>
        <div id="collapse<%= category.id %>" class="accordion-collapse collapse" aria-labelledby="heading<%= category.id %>" data-bs-parent="#achievementsAccordion">
          <div class="accordion-body">
            <% category_actions.each do |action| %>
              <div class="achievement pattern-ach d-flex flex-column align-items-center">
                <% if @user.achieved_action?(action) %>
                  <div class="box-text d-flex justify-content-center align-items-center flex-grow-1">
                    <p class="text-white">
                      <%= action.name %> <br> Succès ✅
                    </p>
                  </div>
                  <div class="box-test">
                    <div class="polygon-container">
                      <%= image_tag("achievements/#{action.icon}", alt: action.name, class: "svg-icon") %>
                    </div>
                  </div>
                <% else %>
                  <div class="box-text d-flex justify-content-center align-items-center flex-grow-1">
                    <p class="text-white">
                      <%= action.name %> <br> En cours ⌛
                    </p>
                  </div>
                  <div class="box-test">
                    <div class="polygon-container">
                      <%= image_tag("icons_grey/#{action.icon}", alt: action.name, class: "svg-icon") %>
                    </div>
                  </div>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
